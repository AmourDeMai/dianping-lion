<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="JobExecTime">

	<typeAlias alias="JobExecTime" type="com.dianping.lion.entity.JobExecTime" />

	<resultMap id="JobExecTimeResult" class="JobExecTime">
		<result column="id" property="id"/>
		<result column="lastFetchTime" property="lastFetchTime"/>
	</resultMap>
	
    <select id="findTime" resultMap="JobExecTimeResult" parameterClass="string">
		<![CDATA[
			SELECT id, lastFetchTime from job_exec_time where jobName=#name# for update;
		]]>
    </select>
    <update id="updateTime" parameterClass="JobExecTime">
    	update job_exec_time
		set lastFetchTime=#lastFetchTime#
		where id=#id#
    </update>
</sqlMap>